"use strict";(self["webpackChunkactivos"]=self["webpackChunkactivos"]||[]).push([[624],{7701:function(t,e,l){l.r(e),l.d(e,{default:function(){return E}});var a=l(3396),o=l(9242),i=l(7139);const n={class:"container"},s=(0,a._)("h1",{align:"center"},"Activos",-1),d={class:"container"},c={class:"card-content+"},r={key:0},u=["value"],p={class:"card"},h={class:"card-content"},_=(0,a._)("h5",null,"Buscar por Tipo de Activo",-1),v=(0,a._)("button",{type:"submit",class:"waves-effect waves-light btn-small"},"buscar",-1),m={class:"card"},g={class:"card-content"},w=(0,a._)("h5",null,"FILTROS",-1),y={class:"input-field"},f=(0,a._)("option",{value:"",selected:""},"todos",-1),b=(0,a._)("option",{value:"true"},"activo",-1),k=(0,a._)("option",{value:"false"},"inactivo",-1),A=[f,b,k],U=(0,a._)("label",null,null,-1),L={class:"card"},S={class:"card-content"},q=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"ID"),(0,a._)("th",null,"Tipo de Activo"),(0,a._)("th",null,"Marca"),(0,a._)("th",null,"Modelo"),(0,a._)("th",null,"Estado")])],-1),x={class:"btn-floating btn-large waves-effect waves-light green"},C=["onClick"],D={class:"btn-floating btn-large waves-effect waves-light blue"},V=["onClick"];function z(t,e,l,f,b,k){return(0,a.wg)(),(0,a.iD)("div",n,[s,(0,a._)("div",d,[(0,a._)("div",c,[(0,a._)("form",{onSubmit:e[6]||(e[6]=(0,o.iM)((t=>k.nuevo()),["prevent"]))},[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("p",null,[(0,a.Uk)("Tipo: "),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>b.payload.tipo=t),required:""},null,512),[[o.nr,b.payload.tipo]])])]),(0,a._)("td",null,[(0,a._)("p",null,[(0,a.Uk)("Marca: "),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>b.payload.marca=t),required:""},null,512),[[o.nr,b.payload.marca]])])]),(0,a._)("td",null,[(0,a._)("p",null,[(0,a.Uk)("Modelo: "),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>b.payload.modelo=t),required:""},null,512),[[o.nr,b.payload.modelo]])])]),(0,a._)("td",null,[(0,a._)("p",null,[(0,a.Uk)("Estado: "),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>b.payload.estado=t),required:""},null,512),[[o.nr,b.payload.estado]])])]),(0,a._)("td",null,[(0,a.Uk)("Area ID: "),b.areas.length>0?((0,a.wg)(),(0,a.iD)("p",r,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>b.payload.areaId=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.areas,(t=>((0,a.wg)(),(0,a.iD)("option",{value:b.areas.id},(0,i.zw)(t.departamento),9,u)))),256))],512),[[o.bM,b.payload.areaId]])])):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("button",{class:"waves-effect waves-light btn-small",type:"submit",onClick:e[5]||(e[5]=(...e)=>t.addArea&&t.addArea(...e))},"Agregar")])])],32)])]),(0,a._)("div",p,[(0,a._)("div",h,[(0,a._)("form",{onSubmit:e[9]||(e[9]=(0,o.iM)((t=>k.getList()),["prevent"]))},[_,(0,a._)("p",null,[(0,a.Uk)("Nombre del Activo: "),(0,a.wy)((0,a._)("input",{type:"search","onUpdate:modelValue":e[7]||(e[7]=t=>b.search=t),onSearch:e[8]||(e[8]=t=>k.getList())},null,544),[[o.nr,b.search]])]),v],32)])]),(0,a._)("div",m,[(0,a._)("div",g,[w,(0,a._)("div",y,[(0,a._)("select",{onChange:e[10]||(e[10]=t=>k.filter("active",t.target.value))},A,32),U])])]),(0,a._)("div",L,[(0,a._)("div",S,[(0,a._)("table",null,[q,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.items,(t=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,(0,i.zw)(t.id_a),1),(0,a._)("td",null,(0,i.zw)(t.tipo),1),(0,a._)("td",null,(0,i.zw)(t.marca),1),(0,a._)("td",null,(0,i.zw)(t.modelo),1),(0,a._)("td",null,(0,i.zw)(t.estado),1),(0,a._)("td",null,[(0,a._)("a",x,[(0,a._)("i",{class:"material-icons",onClick:e=>k.eliminar(t.id)},"delete_forever",8,C)])]),(0,a._)("td",null,[(0,a._)("a",D,[(0,a._)("i",{class:"material-icons",onClick:e=>k.update(t.id)},"edit",8,V)])])])))),256))])])])])])}l(560);var F={name:"ActivoView",data(){const t="http://localhost:3000";return{api:t,items:[],search:"",toFilter:"",areas:[],payload:{tipo:null,marca:null,modelo:null,estado:null,areaId:null}}},methods:{filter(t,e){this.toFilter=""===e?"":"&"+t+"="+e,this.getList()},update(t){this.$route.push("/activo/"+t)},eliminar(t){confirm("Esta seguro de eliminar?.")&&this.axios({method:"delete",url:this.api+"/activos/"+t}).then((t=>{this.getList()})).catch((t=>{console.log(t)}))},nuevo(){this.axios({method:"post",url:this.api+"/activos",data:this.payload}).then((t=>{this.getList(),console.log(t)})).catch((t=>{console.log(t)}))},getList(t,e){this.axios({method:"get",url:this.api+"/activos?q="+this.search+this.toFilter}).then((t=>{this.items=t.data})).catch((t=>{console.log(t)}))},getAreaList(){this.axios({method:"get",url:this.api+"/areas"}).then((t=>{this.areas=t.data;const e=setTimeout((()=>{this.intSelect(),clearTimeout(e)}),3e3)})).catch((t=>{console.log(t)}))},intSelect(){this.getList(),this.getAreaList();var t=document.querySelectorAll("select");M.FormSelect.init(t)}},components:{},mounted(){this.getList();var t=document.querySelectorAll("select");M.FormSelect.init(t)}},I=l(89);const T=(0,I.Z)(F,[["render",z]]);var E=T}}]);
//# sourceMappingURL=activo.d8f63918.js.map